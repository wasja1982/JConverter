[center][b]Конвертор бекапа Ucoz в AtomX: JConverter 0.3.5 (10.06.2012)[/b][/center]

[b]1) Возможности:[/b]
1.1) Перенос пользователей (основные настройки, информация о банах и активации, аватары). Пароли пользователей не сохраняются. ID пользователей соответствуют Ucoz. Получение аватаров может осуществляться из сети Internet (по умолчанию отключено).
1.2) Конвертация форума (разделы, подразделы, темы, сообщения и вложения).
1.3) Конвертация новостей, блогов и FAQ (категории, материалы и вложения) в модуль "Новости". 
1.4) Конвертация статей (категории, статьи и вложения). Ссылка на источник материала сохраняется в дополнительном поле.
1.5) Конвертация каталога файлов (категории и файлы). Ссылка для скачивания с другого сервера сохраняется в дополнительном поле (для версии старше 1.2 beta) или импортируется в базу (с 1.2 beta и новее).
1.6) Парсинг смайлов. По умолчанию отключен (смайлы отображаются в виде рисунков, загружающихся с серверов Ucoz), поскольку набор смайлов AtomX не соответствует Ucoz.
1.7) Конвертация комментариев для блогов, новостей, статей и каталога файлов.
1.8) Возможность парсинга отдельных модулей.
1.9) Возможность разбиения скриптов на отдельные функциональные части (для больших сайтов).
1.10) Реализована поддержка следующих кодов Ucoz:
[code]
1. [b]Жирный текст[/b] - полностью
2. [i]Наклонный текст[/i] - полностью
3. [s]Зачеркнутый текст[/s] - полностью
4. [u]Подчеркнутый текст[/u] - полностью
5. [o]Черта вверху текста[/o] - не реализован, не поддерживается AtomX
6. [l]Текст по левому краю[/l] - полностью
7. [c]Текст по центру[/c] - полностью
8. [r]Текст по правому краю[/r] - полностью
9. [j]Текст по ширине страницы[/j] - не реализован, не поддерживается AtomX
10. [sub]Нижний индекс[/sub] - не реализован, не поддерживается AtomX
11. [sup]Верхний индекс[/sup] - не реализован, не поддерживается AtomX
12. [size=10]Размер шрифта[/size] - реализован в режиме совместимости с AtomX (размеры 10, 15, 20, 25)
13. [color=red]Цвет шрифта[/color] - реализован в режиме совместимости с AtomX (поддерживает не все цвета)
14. [font=Comic Sans MS]Другой шрифт[/font] - не реализован, не поддерживается AtomX
15. [hide]Any text goes here...[/hide] - полностью
16. [spoiler]Any text goes here...[/spoiler] - полностью
17. [spoiler=Title]Any text goes here...[/spoiler] - реализован частично, не поддерживается AtomX
18. [video]http://youtube.com/watch?v=DbzFNj8HVmc[/video] - полностью
19. [audio]http://any_site.com/music.mp3[/audio] - реализован, не поддерживается AtomX
20. [code ]Код программы[/code ] - полностью
21. [quote]Цитата из сообщения[/quote] - полностью
22. [quote=Alex]Цитата из сообщения[/quote] - полностью
23. [hr] - не реализован, не поддерживается AtomX
24. [url]http://www.ucoz.net[/url] - полностью
25. [url=http://www.ucoz.net]uCoz[/url] - полностью
26. [email]your@mail.com[/email] - не реализован, не поддерживается AtomX
27. [email=your@mail.com]Contact Us[/email] - не реализован, не поддерживается AtomX
28. [img]http://www.site.com/img.gif[/img] - полностью
29. [list] - полностью
[*]пункт 1
[*]пункт 2
[/list]
30. [*]пункт 1 - не реализован, не поддерживается AtomX
[*]пункт 2
31. (c) - полностью
32. (r) - полностью
33. (tm) - полностью
[/code]

[b]2) Изменения в версиях:[/b]

JConverter 0.0 (05.01.2011):
+ Полный функциональный аналог php-конвертора.

JConverter 0.1 (07.01.2011):
+ Добавлен парсинг HTML в BB-коды.

JConverter 0.2 (08.01.2011):
+ Добавлена генерация запросов на очистку изменяемых таблиц БД.
+ Добавлена поддержка вложений на форуме, в том числе обработка изображений.
- Устранена проблема с "последними сообщениями" на форуме.
- Устранена проблема с лишними пробелами.
+ Добавлена конвертация аватаров пользователей.

JConverter 0.3 (11.01.2011):
- Устранена проблема с категориями статей и новостей (ошибка генерация секций).
+ Нумерация пользователей (ID) приведена в соотвествие с Ucoz.
+ Интегрирована загрузка аватаров из сети Internet.
+ Добавлен каталог файлов (не выводятся на главную).
+ Переносится информация о наличии бана (в том числе из группы "Заблокированные" с ID=255).
- Устранена проблема с "последним посещением" пользователей.
+ Переноситься информация о неактивированных пользователях.
+ Переработан алгоритм парсинга файлов бекапов (добавлена поддержка многострочных полей).
- Исправлен алгоритм работы со статьями (выводятся на главную).
- Исправлен алгоритм работы с новостями (выводятся на главную, категория "Новости" ).
+ Добавлено экспортирование блогов и FAQ (выводятся на главную, категория "Новости" ).
+ Добавлена конвертация смайлов (не соотвествует стандартному набору AtomX).
+ Добавлена конвертация комментариев для блогов, новостей, статей и каталога файлов.
+ Добавлены расширенные параметры командной строки.

JConverter 0.3.1 (14.01.2011):
- Оптимизирован алгоритм парсинга файлов бекапа (добавлен анализ минимального количества требуемых полей).

JConverter 0.3.2 (23.01.2011):
- Изменен путь к каталогу файлов (load/loads) для Fapos 0.9.93.

JConverter 0.3.3 (09.06.2011):
+ Модификация для совместимости с Fapos 1.0/1.1:
+ Добавлен ключ для совместимости с предыдущими версиями.
+ Добавлена конвертация описания тем форума.

JConverter 0.3.4 (20.06.2011):
- Исправлена обработка изображений в вложениях на форуме (многократное повторение одного рисунка).
+ Добавлен парсинг BB-кода [video].
+ Добавлен парсинг BB-кода [audio].
- Исправлен алгоритм парсинга HTML (улучшен разбор ошибочных тегов, возможно отключение ключем "nofix" ).

JConverter 0.3.5 (10.06.2012):
+ Модификация для совместимости с версиями Fapos до 2.0 dev.
+ Добавлен импорт даты рождения, города и поля для пользователей.
+ Добавлен парсинг вложений в статьях, новостях, блогах и FAQ.
+ Добавлен импорт даты и пользователя для комментариев.
+ Добавлен импорт ссылки с удаленного сервера для материалов каталога файлов.

JConverter 0.3.6:
+ Модификация для совместимости с версиями Fapos 2.1 RC7 (единая таблица для комментариев).
+ Модификация для совместимости с версиями Fapos 2.2 RC1 (поддержка премодерации материалов).
+ Модификация для совместимости с версиями Fapos 2.4 RC5 (поддержка путей для категорий).
+ Модификация для совместимости с версиями AtomX 2.5 RC1 (поддержка премодерации комментариев).

[color=red]Остальные доработки - за отдельную плату. :)[/color]

[b]3) Использование:[/b]
3.1) Для работы необходима [color=blue]установленная Java-машина.[/color]
3.2) Параметры командной строки:
3.2.1) Общие параметры:
[color=blue]-path path[/color]     - путь к папке бекапа; по умолчанию равен каталогу запуска; если путь содержит пробелы, то его необходимо взять в кавычки; указывается без завершающего слеша;
[color=blue]-pref pref     [/color]- префикс БД, по умолчанию - без префикса;
[color=blue]-pass password [/color]- установить пароль пользователю с ID = 1.
3.2.2) Выбор конвертируемых модулей (по умолчанинию конвертируются все):
[color=blue]-users         [/color]- включить обработку пользователей;
[color=blue]-forum         [/color]- включить обработку форума;
[color=blue]-loads         [/color]- включить обработку файлового архива;
[color=blue]-publ          [/color]- включить обработку статей;
[color=blue]-news          [/color]- включить обработку новостей, блогов и FAQ;
[color=blue]-comments      [/color]- включить обработку комментариев.
3.2.3) Режимы работы:
[color=blue]-split         [/color]- запись SQL-запросов в отдельные файлы;
[color=blue]-wa            [/color]- разрешить загрузку аватаров из сети Internet;
[color=blue]-noempty       [/color]- отключить генерацию очистки таблиц;
[color=blue]-noimage       [/color]- отключить конвертацию изображений в форуме (с версии 0.3.5 - в форуме, статьях, новостях, блогах и FAQ);
[color=blue]-smile         [/color]- конвертировать смайлы.
[color=blue]-nofix         [/color]- отключить разбор ошибочных тегов (ускоряет обработку)
3.2.4) Режимы совместимости:
[color=blue]-v0            [/color]- запуск в режиме совместимости с версией Fapos 0.9.93;
[color=blue]-v0            [/color]- запуск в режиме совместимости с Fapos 0.9.93;
[color=blue]-v1            [/color]- запуск в режиме совместимости с Fapos 1.0/1.1;
[color=blue]-v2            [/color]- запуск в режиме совместимости с Fapos 1.1.8 beta;
[color=blue]-v3            [/color]- запуск в режиме совместимости с Fapos 1.1.9;
[color=blue]-v4            [/color]- запуск в режиме совместимости с Fapos 1.2 beta;
[color=blue]-v5            [/color]- запуск в режиме совместимости с Fapos 1.3 RC;
[color=blue]-v6            [/color]- запуск в режиме совместимости с Fapos 2.1 RC7;
[color=blue]-v7            [/color]- запуск в режиме совместимости с Fapos 2.2 RC1;
[color=blue]-v8            [/color]- запуск в режиме совместимости с Fapos 2.4 RC5 (по умолчанию).
3.3) Пример запуска:
3.3.1) запуск из каталога бекапа, таблицы без префикса, конвертируются все таблицы:
[code]@java -jar "JConverter.jar"[/code]
3.3.2) с путем к каталогу бекапа:
[code]@java -jar "JConverter.jar" -path ucozDUMP[/code]
3.3.3) с путем к каталогу бекапа и заданным префиксом таблицы:
[code]@java -jar "JConverter.jar" -path ucozDUMP -pref fps_[/code]
3.3.4) с путем к каталогу бекапа и генерацией отдельных файлов:
[code]@java -jar "JConverter.jar" -path ucozDUMP -split[/code]
3.3.4) с путем к каталогу бекапа и загрузкой недостающих аватаров из сети Internet:
[code]@java -jar "JConverter.jar" -path ucozDUMP -wa[/code]

3.4) После успешного выполнение в каталоге запуска формируются:
- файл "atomx.sql" (по умалчанию) либо набор файлов вида "atomx_*.sql" (при использовании режима "-split" ); файлы содержат SQL-код, который необходимо выполнить на сервере;
- каталог "files", который необходимо скопировать в каталог "\sys\" на сервере;
- каталог "avatars", который необходимо скопировать в каталог "\sys\" на сервере.
